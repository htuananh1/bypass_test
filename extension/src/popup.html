<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Gemini Study Solver</title>
  <link rel="stylesheet" href="popup.css" />
</head>
<body>
  <div class="app">
    <header class="hero">
      <div>
        <h1>Gemini Study Solver</h1>
        <p>Quét đề bài, tinh chỉnh prompt và nhận đáp án đẹp cho Orion.</p>
      </div>
      <a class="link" href="options.html" target="_blank" rel="noopener">Cài đặt</a>
    </header>

    <main>
      <div class="field">
        <label for="question">Bài tập</label>
        <button id="scan-question" type="button">Quét từ trang</button>
      </div>
      <textarea id="question" rows="6" placeholder="Tự điền hoặc quét đoạn văn bản chứa đề bài..."></textarea>

      <div class="field">
        <label for="context">Ngữ cảnh</label>
        <span class="hint">Tùy chọn – thêm dữ kiện, định dạng mong muốn.</span>
      </div>
      <textarea id="context" rows="3" placeholder="Ví dụ: giải chi tiết theo từng bước, định dạng Markdown..."></textarea>

      <div class="grid">
        <label for="mode">Chế độ</label>
        <select id="mode">
          <option value="standard">Chuẩn tổng quát</option>
          <option value="orion">Chuẩn Orion</option>
        </select>
      </div>

      <section class="tuning">
        <article>
          <header>
            <h2>Temperature</h2>
            <span id="temperature-value">0.3</span>
          </header>
          <input type="range" id="temperature" min="0" max="1" step="0.1" value="0.3" />
        </article>
        <article>
          <header>
            <h2>Top P</h2>
            <span id="top-p-value">0.95</span>
          </header>
          <input type="range" id="top-p" min="0.1" max="1" step="0.05" value="0.95" />
        </article>
        <article>
          <header>
            <h2>Max Tokens</h2>
            <span class="hint">Tối đa 2048</span>
          </header>
          <input type="number" id="max-output" min="256" max="2048" step="64" value="1024" />
        </article>
      </section>

      <div class="status" id="status" hidden></div>

      <button id="solve" class="primary">Giải bài tập</button>

      <section id="result-section" hidden>
        <header>
          <h2>Kết quả</h2>
          <button id="copy-result" type="button">Sao chép</button>
        </header>
        <article id="result"></article>
        <details>
          <summary>Prompt đã gửi</summary>
          <pre id="prompt-preview"></pre>
        </details>
      </section>
    </main>
  </div>

  <script type="module" src="popup.js"></script>
</body>
</html>
